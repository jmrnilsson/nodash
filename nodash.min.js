!function(){function n(n,o,u,c,f,s,p){"use strict";function a(){return"end of stream"}function l(n){return n.__stream__=S,n}function d(n){return v(n)&&n.__stream__===S}function h(n){return n=l(n),n.__infinite__=!0,n}function g(n){return!!n.__infinite__}function m(n){if(g(n))throw new Error("this function can not consume infinite streams")}function v(n){return"function"==typeof n}function y(n){return"string"==typeof n}function b(n){return"number"==typeof n}function w(n){return n}function x(n){return n.join("")}function q(n,t){var r=0,i=0,e=[],o=2,u=0;for(e[0]=-1,e[1]=0;o<n.length;)n[o-1]==n[u]?(u+=1,e[o]=u,o+=1):u>0?u=e[u]:(e[o]=0,o+=1);for(;r+i<t.length;)if(n[i]==t[r+i]){if(i==n.length-1)return r;i+=1}else e[i]>-1?(r=r+i-e[i],i=e[i]):(i=0,r+=1);return-1}function E(){var t,r,i,e,o=[];for(i=0;i<arguments.length;i++)switch(e=arguments[i],typeof e){case"string":o.push(e);break;case"function":t=e}for(r=n.curried(t.composed?t():t),i=0;i<o.length;i++)n[o[i]]=r;return r}o=o||r,u=u||i,c=c||e,n=n||{};var _={toString:a,inspect:a};n.endOfStream=_;var S={},O=u.isArray||function(n){return"[object Array]"===e.prototype.toString.call(n)},j=function(n){return"object"==typeof n?null!==n&&!O(n):!1},L=c.keys||function(){var n=e.prototype.hasOwnProperty,t=!(s||{toString:null}).propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;return function(e){var o,u,c=[];for(o in e)n.call(e,o)&&c.push(o);if(t)for(u=0;i>u;u++)n.call(e,r[u])&&c.push(r[u]);return c}}(),T=!f&&t||function(){var n=function(){this.xs={}};return n.prototype.add=function(n){return this.xs[n]=!0,this},n.prototype.has=function(n){return this.xs[n]===!0},n}(),A=!f&&setImmediate||function(n){setTimeout(n,0)},I={0:w,1:w,2:function(n){return function(t,r){switch(arguments.length){case 1:return function(r){return n(t,r)}}return n(t,r)}},3:function(n){return function(t,r,i){switch(arguments.length){case 1:return I[2](function(r,i){return n(t,r,i)});case 2:return function(i){return n(t,r,i)}}return n(t,r,i)}},4:function(n){return function(t,r,i,e){switch(arguments.length){case 1:return I[3](function(r,i,e){return n(t,r,i,e)});case 2:return I[2](function(i,e){return n(t,r,i,e)});case 3:return function(e){return n(t,r,i,e)}}return n(t,r,i,e)}},5:function(n){return function(t,r,i,e,o){switch(arguments.length){case 1:return I[4](function(r,i,e,o){return n(t,r,i,e,o)});case 2:return I[3](function(i,e,o){return n(t,r,i,e,o)});case 3:return I[2](function(e,o){return n(t,r,i,e,o)});case 4:return function(o){return n(t,r,i,e,o)}}return n(t,r,i,e,o)}},6:function(n){return function(t,r,i,e,o,u){switch(arguments.length){case 1:return I[5](function(r,i,e,o,u){return n(t,r,i,e,o,u)});case 2:return I[4](function(i,e,o,u){return n(t,r,i,e,o,u)});case 3:return I[3](function(e,o,u){return n(t,r,i,e,o,u)});case 4:return I[2](function(o,u){return n(t,r,i,e,o,u)});case 5:return function(u){return n(t,r,i,e,o,u)}}return n(t,r,i,e,o,u)}}};n.curried=function(n){return I[n.length](n)};return E("isFunction",v),E("isStream",d),E("isArray",O),E("isNumber",b),E("isInfinite",g),E("isObject",j),E("id",w),E("idf",function(n){return function(){return n}}),E("const","const_","constant",function(n,t){return n}),E("$","apply",function(n,t){return n(t)}),E(".","compose",function(n,t,r){return n(t(r))}),E("compose2",function(n,t,r,i){return n(t(r,i))}),E("flip",function(n){return I[2](function(t,r){return n(r,t)})}),E("on",function(n,t,r,i){return n(t(r),t(i))}),E("&&","AND",function(n,t){return n&&t}),E("||","OR",function(n,t){return n||t}),E("not",function(n){return!n}),E("bool",function(n,t,r){return r?n:t}),E("fst",function(n){return n[0]}),E("snd",function(n){return n[1]}),E(",","tuple",function(n,t){return[n,t]}),E(",,","tuple3",function(n,t,r){return[n,t,r]}),E(",,,","tuple4",function(n,t,r,i){return[n,t,r,i]}),E("==","eq","EQ",function(t,r){if(t===r)return!0;var i=typeof t,e=typeof r;if(i!==e)return!1;if("object"===i){for(var o=n.union(L(t),L(r)),u=0;u<o.length;u++)if(!n.eq(t[o[u]],r[o[u]]))return!1;return!0}return!1}),E("/=","neq","NEQ",function(t,r){return!n.eq(t,r)}),E("compare",function(t,r){switch(typeof t){case"string":return t.localeCompare(r);case"object":if(v(t.compareTo))return t.compareTo(r);if(O(t)){for(var i=0;i<o.min(t.length,r.length);i++){var e=n.compare(t[i],r[i]);if(0!==e)return e}return 0}return t.toString().localeCompare(r.toString());case"number":return n.signum(t-r)}return p}),E("<","lt","LT",function(t,r){return n.compare(t,r)<0}),E(">","gt","GT",function(t,r){return n.compare(t,r)>0}),E("<=","lte","LTE",function(t,r){return n.compare(t,r)<=0}),E(">=","gte","GTE",function(t,r){return n.compare(t,r)>=0}),E("max",function(t,r){return n.gt(t,r)?t:r}),E("min",function(t,r){return n.lt(t,r)?t:r}),E("comparing",function(t,r,i){return n.compare(t(r),t(i))}),E("isDigit",function(n){return!!n.match(/[0-9]/)}),E("isAsciiLetter",function(n){return!!n.match(/[a-zA-Z]/)}),E("+","add","ADD","plus","PLUS",function(n,t){return n+t}),E("-","sub","minus","MINUS","subtract",function(n,t){return n-t}),E("*","mul","MUL","times","TIMES",function(n,t){return n*t}),E("abs",o.abs),E("negate",function(n){return-n}),E("signum",function(n){return n>0?1:0===n?0:-1}),E("div",function(n,t){return o.floor(n/t)}),E("quot",function(n,t){var r=n/t;return r>=0?o.floor(r):o.ceil(r)}),E("rem",function(n,t){return n%t}),E("mod",function(t,r){var i=(n.quot(t,r),n.rem(t,r));return n.signum(i)==-n.signum(r)?i+r:i}),E("divMod",function(t,r){return[n.div(t,r),n.mod(t,r)]}),E("quotRem",function(t,r){return[n.quot(t,r),n.rem(t,r)]}),E("/","frac",function(n,t){return n/t}),E("recip",function(n){return 1/n}),E("exp",o.exp),E("sqrt",o.sqrt),E("log",o.log),E("logBase",function(n,t){return o.log(n)/o.log(t)}),E("**","pow","^","^^",o.pow),E("sin",o.sin),E("tan",o.tan),E("cos",o.cos),E("asin",o.asin),E("atan",o.atan),E("acos",o.acos),E("sinh",o.sinh||function(n){return(o.exp(n)-o.exp(-n))/2}),E("tanh",o.tanh||function(n){return n===1/0?1:n===-(1/0)?-1:(o.exp(n)-o.exp(-n))/(o.exp(n)+o.exp(-n))}),E("cosh",o.cosh||function(n){return(o.exp(n)+o.exp(-n))/2}),E("asinh",o.asinh||function(n){return n===-(1/0)?n:o.log(n+o.sqrt(n*n+1))}),E("atanh",o.atanh||function(n){return o.log((1+n)/(1-n))/2}),E("acosh",o.acosh||function(n){return o.log(n+o.sqrt(n*n-1))}),E("properFraction",function(t){var r=n.truncate(t);return[r,-(r-t)]}),E("truncate",o.trunc||function(t){switch(n.signum(t)){case-1:return o.ceil(t);case 1:return o.floor(t)}return 0}),E("round",function(t){var r=n.properFraction(t),i=r[0],e=r[1]<0?i-1:i+1;switch(n.signum(o.abs(r[1])-.5)){case-1:return i;case 0:return i%2===0?i:e;case 1:return e}}),E("ceiling",o.ceil),E("floor",o.floor),E("gcd",function(t,r){for(var i;0!==r;)i=n.rem(t,r),t=r,r=i;return t}),E("lcm",function(t,r){return 0===t||0===r?0:o.abs(n.quot(t,n.gcd(t,r))*r)}),E("even",function(n){return n%2===0}),E("odd",function(n){return n%2!==0}),E("until",function(n,t,r){for(;!n(r);)r=t(r);return r}),E("pipe",function(){var n,t,r,i=null;if(O(arguments[0])?(n=arguments[0],r=arguments[1]):n=arguments,n.length>0){t=v(n[0])?n[0]():n[0];for(var e=1;e<n.length;e+=1)try{t=n[e](t)}catch(o){i=o}}if(v(r))r(i,t);else if(i)throw i;return t}),E("stream","lazy",function(n){if(d(n))return n;if(v(n))return h(function(){return n()});var t=0;return l(function(){return t<n.length?n[t++]:_})}),E("consume",function(n){if(!d(n))return n;m(n);for(var t,r=[];(t=n())!==_;)r.push(t);return r}),E("consumeString",function(n){if(!d(n))return""+n;for(var t,r="";(t=n())!==_;)r+=t;return r}),E("each",function(n,t){if(d(t))for(var r;(r=t())!==_;)n(r);else if(O(t)||y(t))for(var i=0;i<t.length;i++)n(t[i],i);else if(j(t))for(var e=L(t),o=0;o<e.length;o+=1)n(t[e[o]],e[o])}),E("cycle",function(n){if(d(n)){if(g(n))return n;var t=[],r=!1,i=0;return h(function(){var e;if(!r){if((e=n())!==_)return t.push(e),e;r=!0}return i>=t.length&&(i=0),t[i++]})}if(O(n)||y(n)){var e=0;return h(function(){return e>=n.length&&(e=0),n[e++]})}var o=L(n),u=0;return h(function(){return u>=o.length&&(u=0),n[o[u++]]})}),E("repeat",function(n){return h(function(){return n})}),E("iterate",function(n,t){return h(function(){var r=t;return t=n(t),r})}),E("lines",function(n){var t=n.split(/\n/);return 0===t[t.length-1].length&&delete t[t.length-1],t}),E("unlines",function(n){return n.join("\n")}),E("words",function(n){return n.split(/[\n\r\v\t ]/)}),E("unwords",function(n){return n.join(" ")}),E(":","cons",function(n,t){if(d(t)){var r=!1;return(g(t)?h:l)(function(){return r?t():(r=!0,n)})}var i=[n];return[].push.apply(i,t),i}),E("++","append",function(t,r){if(d(t)||d(r)){if(t=n.stream(t),g(t))return t;r=n.stream(r);var i=!1;return l(function(){if(i)return r();var n=t();return n==_?(i=!0,r()):n})}if(y(t))return t+r;var e=[];return[].push.apply(e,t),[].push.apply(e,r),e}),E("map",function(n,t){if(d(t))return(g(t)?h:l)(function(){var r=t();return r===_?_:n(r)});var r;if(O(t)||y(t)){r=[];for(var i=0;i<t.length;i++)r.push(n(t[i]));return y(t)?x(r):r}r={};for(var e=L(t),o=0;o<e.length;o++)r[e[o]]=n(t[e[o]],e[o]);return r}),E("filter",function(n,t){if(d(t))return(g(t)?h:l)(function(){for(var r;(r=t())!==_;)if(n(r))return r;return _});var r;if(O(t)||y(t)){r=[];for(var i=0;i<t.length;i++)n(t[i])&&r.push(t[i]);return y(t)?x(r):r}r={};for(var e=L(t),o=0;o<e.length;o++)n(t[e[o]])&&(r[e[o]]=t[e[o]]);return r}),E("head",function(n){if(d(n)){var t=n();return t===_?p:t}return n[0]}),E("last",function(n){if(d(n)){m(n);for(var t,r;(t=n())!==_;)r=t;return r}return n[n.length-1]}),E("tail",function(n){return d(n)?(n(),n):y(n)?n.slice(1):[].slice.call(n,1)}),E("init",function(n){if(d(n)){m(n);var t,r=n();return l(function(){if(t=n(),t===_)return _;var i=r;return r=t,i})}return y(n)?n.slice(0,n.length-1):[].slice.call(n,0,n.length-1)}),E("isEmpty","null_",function(n){if(d(n))return n()===_;if(O(n)||y(n))return 0===n.length;for(var t in n)return!1;return!0}),E("length",function(n){if(d(n)){if(g(n))return 1/0;for(var t=0;n()!==_;)t+=1;return t}return j(n)?L(n).length:n.length}),E("select",function(t,r){return n.foldl(n.at,r,t.split(/\./))}),E("!!","at","AT",function(n,t){if(d(n)){for(var r,i=0;t>i;i++)if(n()===_)return r;return r=n(),r===_?p:r}return n[t]}),E("reverse",function(t){if(d(t)){m(t),t=n.consume(t);var r=t.length-1;return l(function(){return 0>r?_:t[r--]})}var i=y(t)?"".split.call(t,""):[].slice.call(t);return i.reverse(),y(t)?i.join(""):i}),E("take",function(n,t){if(d(t)){var r=0;return l(function(){return r++<n?t():_})}return t.slice(0,n)}),E("drop",function(n,t){if(d(t)){for(var r=0;n>r;r++)t();return t}return t.slice(n)}),E("splitAt",function(n,t){return[t.slice(0,n),t.slice(n)]}),E("takeWhile",function(n,t){if(d(t)){var r=!1;return l(function(){var i=t();return r||i==_||!n(i)?(r=!0,_):i})}for(var i=0;i<t.length&&n(t[i]);)i++;return t.slice(0,i)}),E("dropWhile",function(t,r){if(d(r)){for(var i;(i=r())!==_&&t(i););return n.cons(i,r)}for(var e=0;e<r.length&&t(r[e]);)e++;return r.slice(e)}),E("span",function(n,t){for(var r=0;r<t.length&&n(t[r]);)r++;return[t.slice(0,r),t.slice(r)]}),E("break_","break",function(n,t){for(var r=0;r<t.length&&!n(t[r]);)r++;return[t.slice(0,r),t.slice(r)]}),E("elem",function(t,r){if(d(r)){for(var i;(i=r())!==_;)if(n.eq(i,t))return!0;return!1}for(var e=0;e<r.length;e++)if(n.eq(r[e],t))return!0;return!1}),E("notElem",function(t,r){if(d(r)){for(var i;(i=r())!==_;)if(n.eq(i,t))return!1;return!0}for(var e=0;e<r.length;e++)if(n.eq(r[e],t))return!1;return!0}),E("lookup",function(t,r){if(O(r))for(var i=0;i<r.length;i++)if(r[i]&&n.eq(r[i][0],t))return r[i][1];return r[t]}),E("foldl","foldl'",function(t,r,i){var e=d(i);e&&(i=n.consume(i));for(var o=0;o<i.length;o++)r=t(r,i[o]);return O(r)&&e?n.stream(r):r}),E("foldl1","foldl1'",function(t,r){var i=d(r);i&&(r=n.consume(r));for(var e=r[0],o=1;o<r.length;o++)e=t(e,r[o]);return O(e)&&i?n.stream(e):e}),E("foldr",function(n,t,r){for(var i=r.length-1;i>=0;i--)t=n(r[i],t);return t}),E("foldr1",function(n,t){for(var r=t[t.length-1],i=t.length-2;i>=0;i--)r=n(t[i],r);return r}),E("and",n.foldl(n.AND,!0)),E("or",n.foldl(n.OR,!1)),E("sum",n.foldl(n.ADD,0)),E("product",n.foldl(n.MUL,1)),E("maximum",n.foldl(n.max,-(1/0))),E("minimum",n.foldl(n.min,+(1/0))),E("any",function(n,t){for(var r=0;r<t.length;r++)if(n(t[r]))return!0;return!1}),E("all",function(n,t){for(var r=0;r<t.length;r++)if(!n(t[r]))return!1;return!0}),E("scanl",function(t,r,i){if(d(i))return n.cons(r,(g(i)?h:l)(function(){var n=i();return n===_?_:r=t(r,n)}));for(var e=[r],o=0;o<i.length;o++)r=t(r,i[o]),e.push(r);return e}),E("scanl1",function(t,r){if(d(r))return n.scanl(t,r(),r);for(var i=r[0],e=[i],o=1;o<r.length;o++)i=t(i,r[o]),e.push(i);return e}),E("scanr",function(n,t,r){for(var i=[t],e=r.length-1;e>=0;e--)t=n(r[e],t),i.unshift(t);return i}),E("scanr1",function(n,t){for(var r=t[t.length-1],i=[r],e=t.length-2;e>=0;e--)r=n(t[e],r),i.unshift(r);return i}),E("concat",function(n){if(y(n[0]))return n.join("");for(var t=[],r=L(n),i=0;i<r.length;i++)[].push.apply(t,n[r[i]]);return t}),E("concatMap",n.compose2(n.concat,n.map)),E("replicate",function(n,t){for(var r=[],i=0;n>i;i++)r.push(t);return r}),E("zipWith",function(t,r,i){if(d(r)||d(i))return r=n.stream(r),i=n.stream(i),l(function(){var n=r(),e=i();return n===_||e===_?_:t(n,e)});for(var e=o.min(r.length,i.length),u=[],c=0;e>c;c++)u[c]=t(r[c],i[c]);return u}),E("zipWith3",function(t,r,i,e){if(d(r)||d(i)||d(e))return r=n.stream(r),i=n.stream(i),e=n.stream(e),l(function(){var n=r(),o=i(),u=e();return n===_||o===_||u===_?_:t(n,o,u)});for(var o=n.minimum([r.length,i.length,e.length]),u=[],c=0;o>c;c++)u[c]=t(r[c],i[c],e[c]);return u}),E("zipWith4",function(t,r,i,e,o){if(d(r)||d(i)||d(e)||d(o))return r=n.stream(r),i=n.stream(i),e=n.stream(e),o=n.stream(o),l(function(){var n=r(),u=i(),c=e(),f=o();return n===_||u===_||c===_||f===_?_:t(n,u,c,f)});for(var u=n.minimum([r.length,i.length,e.length,o.length]),c=[],f=0;u>f;f++)c[f]=t(r[f],i[f],e[f],o[f]);return c}),E("zip",n.zipWith(n.tuple)),E("zip3",n.zipWith3(n.tuple3)),E("zip4",n.zipWith4(n.tuple4)),E("intersperse",function(n,t){if(0===t.length)return[];for(var r=[t[0]],i=1;i<t.length;i++)r.push(n),r.push(t[i]);return r}),E("intercalate",function(t,r){return n.concat(n.intersperse(t,r))}),E("transpose",function(t){if(!O(t)){for(var r={},i=L(t),e=0;e<i.length;e++)r[t[i[e]]]=i[e];return r}var o,u=0,c=[];do{o=[];for(var f=0;f<t.length;f++)t[f][u]!==p&&o.push(t[f][u]);u+=1}while(o.length>0&&c.push(o));return y(t[0])&&(c=n.map(x,c)),c}),E("heads",n.map(n.head)),E("lasts",n.map(n.lasts)),E("inits",n.map(n.inits)),E("tails",n.map(n.tails)),E("isPrefixOf",function(t,r){if(d(t)&&(t=n.consume(t)),d(r)){for(var i=0;i<t.length;i++)if(t[i]!==r())return!1;return!0}for(var e=0;e<t.length;e++)if(r[e]!==t[e])return!1;return!0}),E("isSuffixOf",function(t,r){d(t)&&(t=n.consume(t)),d(r)&&(r=n.consume(r));for(var i=0;i<t.length;i++)if(r[r.length-t.length+i]!==t[i])return!1;return!0}),E("isInfixOf",function(n,t){return q(n,t)>=0}),E("indexOf",q),E("find",function(n,t){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r];return null}),E("partition",function(t,r){for(var i=[],e=[],o=0;o<r.length;o++)(t(r[o])?i:e).push(r[o]);return y(r)?n.map(x,[i,e]):[i,e]}),E("findIndex",function(n,t){for(var r=0;r<t.length;r++)if(n(t[r]))return r;return null}),E("findIndices",function(n,t){for(var r=[],i=0;i<t.length;i++)n(t[i])&&r.push(i);return r}),E("elemIndex",function(t,r){return n.findIndex(n.eq(t),r)}),E("elemIndices",function(t,r){return n.findIndices(n.eq(t),r)}),E("nub",function(n){for(var t=new T,r=[],i=0;i<n.length;i++)t.has(n[i])||(r.push(n[i]),t.add(n[i]));return r}),E("\\\\","difference",function(n,t){var r,i=new T;for(r=0;r<t.length;r++)i.add(t[r]);var e=[];for(r=0;r<n.length;r++)i.has(n[r])||e.push(n[r]);return y(n)?x(e):e}),E("union",function(n,t){var r,i=new T,e=[];for(r=0;r<n.length;r++)e.push(n[r]),i.add(n[r]);for(r=0;r<t.length;r++)i.has(t[r])||e.push(t[r]);return e}),E("intersect",function(n,t){var r,i=new T,e=[];for(r=0;r<t.length;r++)i.add(t[r]);for(r=0;r<n.length;r++)i.has(n[r])&&e.push(n[r]);return e}),E("sort",function(t){if(m(t),t.length<=1)return t;var r=y(t)?"".split.call(t,""):[].slice.call(t);return r.sort(b(r[0])?function(n,t){return n-t}:y(r[0])?function(n,t){return n.localeCompare(t)}:n.compare),y(t)?r.join(""):r}),E("deleteBy",function(t,r,i){for(var e=0;e<i.length;e++)if(t(r,i[e]))return n.append(i.slice(0,e),i.slice(e+1));return i}),E("delete_","delete",function(t,r){var i=r.indexOf(t);return i>=0?n.append(r.slice(0,i),r.slice(i+1)):r}),E("insertBy",function(t,r,i){for(var e=0;e<i.length;e++)if(t(r,i[e])<=0)return n.concat([i.slice(0,e),r,i.slice(e)]);return n.append(i,r)}),E("insert",n.insertBy(n.compare)),E("groupBy",function(t,r){if(0===r.length)return[];for(var i=[],e=[r[0]],o=r[0],u=1;u<r.length;u++)t(r[u],o)?e.push(r[u]):(i.push(e),e=[r[u]]),o=r[u];return i.push(e),y(r)?n.map(x,i):i}),E("group",n.groupBy(n.eq)),E("sortBy",function(t,r){if(d(r)&&(m(r),r=n.consume(r)),r.length<=1)return r;var i=y(r),e=i?"".split.call(r,""):[].slice.call(r);return e.sort(t),i?e.join(""):e}),E("maximumBy",function(t,r){return n.foldl1(function(n,r){return t(n,r)>0?n:r},r)}),E("minimumBy",function(t,r){return n.foldl1(function(n,r){return t(n,r)<0?n:r},r)}),E("maybe",function(n,t,r){return r===p||null===r?n:t(r)}),E("isJust",function(n){return n!==p&&null!==n}),E("isNothing",function(n){return n===p||null===n}),E("fromMaybe",function(n,t){return t===p||null===t?n:t}),E("listToMaybe",function(n){if(d(n)){var t=n();return t===_?null:t}return n[0]}),E("maybeToList",function(n){return n===p||null===n?[]:[n]}),E("catMaybes",n.filter(n.isJust)),E("mapMaybe",n.compose2(n.filter(n.isJust),n.map)),E("either",function(n,t,r){var i=r.left||r[0];if(i)return n(i);var e=r.right||r[1];return e?t(e):null}),E("Left",function(n){return{left:n}}),E("Right",function(n){return{right:n}}),E("isLeft",function(n){return n.left!==p||n[0]!==p&&null!==n[0]}),E("isRight",function(t){return(t.right!==p||t[1]!==p)&&!n.isLeft(t)}),E("fromLeft",function(n){return n.left!==p?n.left:n[0]}),E("fromRight",function(n){return n.right!==p?n.right:n[1]}),E("lefts",n.compose(n.map(n.fromLeft),n.filter(n.isLeft))),E("rights",n.compose(n.map(n.fromRight),n.filter(n.isRight))),E("partitionEithers",function(t){return[n.lefts(t),n.rights(t)]}),E("keys",L),E("clone",function(t){return"object"==typeof t?null===t?null:n.map(n.clone,t):t}),E("async",function(t){return function(){try{var r=n.last(arguments),i=t.apply(null,n.init(arguments));A(function(){r(i)})}catch(e){A(function(){r(null,e)})}}}),E("run",function(t){function r(n){return function(t){A(function(){t(null,n)})}}if(2==arguments.length)return void n.run(t)(arguments[1]);if(O(t)){var i=null,e={};n.each(function(n,t){e[t]=null===i?n:[i,n],i=t},t),t=e}var o={},u=[];n.each(function(t,r){var i=[],e=null;O(t)?(i=n.init(t),e=n.last(t)):(O(t.depends)&&(i=t.depends),e=t);var u={func:e,args:i,depends:{},enables:o[r]?o[r].enables:{}};n.each(function(n){u.depends[n]=!0,o[n]||(o[n]={enables:{}}),o[n].enables[r]=!0},i),o[r]=u},t);var c=[];if(n.each(function(r,i){n.each(function(n,r){t[r]||c.push([i,r])},r.depends)},o),!isEmpty(c))return r({message:"unmet dependencies",details:n.map(function(n){return"`"+n[0]+"` depends on `"+n[1]+"` which is not defined"},c)});if(n.each(function(t,r){n.isEmpty(t.depends)&&u.push(r)},o),n.isEmpty(u))return r({message:"no initial task",details:"There is no task without any dependencies."});var f=[];return n.each(function(t){function r(t){e.push(t),i[t]?f.push(n.map(w,e)):(i[t]=!0,n.each(r,L(o[t].enables))),delete i[e.pop()]}var i={},e=[];r(t)},u),n.isEmpty(f)?function(t){function r(r){return function(u,s){s?f[r].error=s:f[r].result=u,n.each(function(n,t){f[t].toGo-=1,0===f[t].toGo&&delete f[t]},o[r].depends),c-=1,0===c?(n.each(function(n){delete n.toGo},f),t(f)):n.each(function(n,t){delete e[t][r],isEmpty(e[t])&&i(t)},o[r].enables)}}function i(t){var i=o[t],e=r(t),u=!1,c=n.map(function(n){return f[n].error&&(u=!0),f[n].result},i.args);if(u&&v(i.func.runOnError)){var s={};n.each(function(n){var t=f[n],r={};t.error?r.error=t.error:r.result=t.result,s[n]=r},i.args),s=i.func.runOnError(s)||s,c=n.map(function(n){return s[n].result},i.args)}c.push(e),A(function(){if(u&&!i.func.runOnError)e(null,{message:"dependencies failed"});else{var n=i.func;j(n)&&(n=n.func);try{n.apply(null,c)}catch(t){e(null,t)}}})}var e={},c=n.length(o),f=n.map(function(t,r){return{toGo:n.length(t.enables)}},o);n.each(function(t,r){e[r]=n.clone(t.depends)},o),n.each(i,u)}:(f=n.map(function(t){return t=n.dropWhile(n.NEQ(n.last(t)),t),n.reverse(t)},f),r({message:"cycle detected",details:n.map(n.intercalate(" -> "),f)}))}),n}var t="undefined"!=typeof Set&&Set,r=Math,i=Array,e=Object,o=n({install:n});"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define(o.idf(o)):(window.Prelude=o,window.Nodash=o)}();
//# sourceMappingURL=nodash.min.js.map