!function(){function n(i,o){"use strict";function f(){return"end of stream"}function c(n){return n.__stream__=S,n}function a(n){return h(n)&&n.__stream__===S}function s(n){return n=c(n),n.__infinite__=!0,n}function l(n){return!!n.__infinite__}function p(n){if(l(n))throw new Error("this function can not consume infinite streams")}function h(n){return"function"==typeof n}function m(n){return"string"==typeof n}function g(n){return"number"==typeof n}function d(n){return h(n)&&n.__isNodash}function v(n){return n}function y(n){return n.join("")}function b(n,r){var t=0,e=0,u=[],i=2,o=0;for(u[0]=-1,u[1]=0;i<n.length;)n[i-1]==n[o]?(o+=1,u[i]=o,i+=1):o>0?o=u[o]:(u[i]=0,i+=1);for(;t+e<r.length;)if(n[e]==r[t+e]){if(e==n.length-1)return t;e+=1}else u[e]>-1?(t=t+e-u[e],e=u[e]):(e=0,t+=1);return-1}function w(){var n,r,t,e,u=[];for(t=0;t<arguments.length;t++)switch(e=arguments[t],typeof e){case"string":u.push(e);break;case"function":n=e}for(r=x.curried(n.composed?n():n),r.__isNodash=!0,t=0;t<u.length;t++)x[u[t]]=r;return r}i=i||{};var x={},_=i.Math||t,q=i.Array||e,E=i.Object||u,O={toString:f,inspect:f};x.endOfStream=O;var S={},j=q.isArray||function(n){return"[object Array]"===u.prototype.toString.call(n)},N=function(n){return"object"==typeof n?null!==n&&!j(n):!1},L=E.keys||function(){var n=u.prototype.hasOwnProperty,r=!(i.refObj||{toString:null}).propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=t.length;return function(u){var i,o,f=[];for(i in u)n.call(u,i)&&f.push(i);if(r)for(o=0;e>o;o++)n.call(u,t[o])&&f.push(t[o]);return f}}(),A=!i.dontUseNatives&&r||function(){var n=function(){this.xs={}};return n.prototype.add=function(n){return this.xs[n]=!0,this},n.prototype.has=function(n){return this.xs[n]===!0},n}(),I=function(n){setTimeout(n,0)};i.dontUseNatives||"function"!=typeof setImmediate||(I=setImmediate);var T={0:v,1:v,2:function(n){return function(r,t){switch(arguments.length){case 1:return function(t){return n(r,t)}}return n(r,t)}},3:function(n){return function(r,t,e){switch(arguments.length){case 1:return T[2](function(t,e){return n(r,t,e)});case 2:return function(e){return n(r,t,e)}}return n(r,t,e)}},4:function(n){return function(r,t,e,u){switch(arguments.length){case 1:return T[3](function(t,e,u){return n(r,t,e,u)});case 2:return T[2](function(e,u){return n(r,t,e,u)});case 3:return function(u){return n(r,t,e,u)}}return n(r,t,e,u)}},5:function(n){return function(r,t,e,u,i){switch(arguments.length){case 1:return T[4](function(t,e,u,i){return n(r,t,e,u,i)});case 2:return T[3](function(e,u,i){return n(r,t,e,u,i)});case 3:return T[2](function(u,i){return n(r,t,e,u,i)});case 4:return function(i){return n(r,t,e,u,i)}}return n(r,t,e,u,i)}},6:function(n){return function(r,t,e,u,i,o){switch(arguments.length){case 1:return T[5](function(t,e,u,i,o){return n(r,t,e,u,i,o)});case 2:return T[4](function(e,u,i,o){return n(r,t,e,u,i,o)});case 3:return T[3](function(u,i,o){return n(r,t,e,u,i,o)});case 4:return T[2](function(i,o){return n(r,t,e,u,i,o)});case 5:return function(o){return n(r,t,e,u,i,o)}}return n(r,t,e,u,i,o)}}};x.curried=function(n){return T[n.length](n)},x.curried.__isNodash=!0;return w("isFunction",h),w("isStream",a),w("isArray",j),w("isNumber",g),w("isString",m),w("isInfinite",l),w("isObject",N),w("id",v),w("idf",function(n){return function(){return n}}),w("const","const_","constant",function(n,r){return n}),w("$","apply",function(n,r){return n(r)}),w(".","compose",function(n,r,t){return n(r(t))}),w("compose2",function(n,r,t,e){return n(r(t,e))}),w("flip",function(n){return T[2](function(r,t){return n(t,r)})}),w("on",function(n,r,t,e){return n(r(t),r(e))}),w("&&","AND",function(n,r){return n&&r}),w("||","OR",function(n,r){return n||r}),w("not",function(n){return!n}),w("bool",function(n,r,t){return t?n:r}),w("fst",function(n){return n[0]}),w("snd",function(n){return n[1]}),w(",","tuple",function(n,r){return[n,r]}),w(",,","tuple3",function(n,r,t){return[n,r,t]}),w(",,,","tuple4",function(n,r,t,e){return[n,r,t,e]}),w("==","eq","EQ",function(n,r){if(n===r)return!0;var t=typeof n,e=typeof r;if(t!==e)return!1;if("object"===t){for(var u=x.union(L(n),L(r)),i=0;i<u.length;i++)if(!x.eq(n[u[i]],r[u[i]]))return!1;return!0}return!1}),w("/=","neq","NEQ",function(n,r){return!x.eq(n,r)}),w("compare",function(n,r){switch(typeof n){case"string":return n.localeCompare(r);case"object":if(h(n.compareTo))return n.compareTo(r);if(j(n)){for(var t=0;t<_.min(n.length,r.length);t++){var e=x.compare(n[t],r[t]);if(0!==e)return e}return 0}return n.toString().localeCompare(r.toString());case"number":return x.signum(n-r)}return o}),w("<","lt","LT",function(n,r){return x.compare(n,r)<0}),w(">","gt","GT",function(n,r){return x.compare(n,r)>0}),w("<=","lte","LTE",function(n,r){return x.compare(n,r)<=0}),w(">=","gte","GTE",function(n,r){return x.compare(n,r)>=0}),w("max",function(n,r){return x.gt(n,r)?n:r}),w("min",function(n,r){return x.lt(n,r)?n:r}),w("comparing",function(n,r,t){return x.compare(n(r),n(t))}),w("isDigit",function(n){return!!n.match(/[0-9]/)}),w("isAsciiLetter",function(n){return!!n.match(/[a-zA-Z]/)}),w("+","add","ADD","plus","PLUS",function(n,r){return n+r}),w("-","sub","minus","MINUS","subtract",function(n,r){return n-r}),w("*","mul","MUL","times","TIMES",function(n,r){return n*r}),w("abs",_.abs),w("negate",function(n){return-n}),w("signum",function(n){return n>0?1:0===n?0:-1}),w("div",function(n,r){return _.floor(n/r)}),w("quot",function(n,r){var t=n/r;return t>=0?_.floor(t):_.ceil(t)}),w("rem",function(n,r){return n%r}),w("mod",function(n,r){var t=(x.quot(n,r),x.rem(n,r));return x.signum(t)==-x.signum(r)?t+r:t}),w("divMod",function(n,r){return[x.div(n,r),x.mod(n,r)]}),w("quotRem",function(n,r){return[x.quot(n,r),x.rem(n,r)]}),w("/","frac",function(n,r){return n/r}),w("recip",function(n){return 1/n}),w("exp",_.exp),w("sqrt",_.sqrt),w("log",_.log),w("logBase",function(n,r){return _.log(n)/_.log(r)}),w("**","pow","^","^^",_.pow),w("sin",_.sin),w("tan",_.tan),w("cos",_.cos),w("asin",_.asin),w("atan",_.atan),w("acos",_.acos),w("sinh",_.sinh||function(n){return(_.exp(n)-_.exp(-n))/2}),w("tanh",_.tanh||function(n){return n===1/0?1:n===-(1/0)?-1:(_.exp(n)-_.exp(-n))/(_.exp(n)+_.exp(-n))}),w("cosh",_.cosh||function(n){return(_.exp(n)+_.exp(-n))/2}),w("asinh",_.asinh||function(n){return n===-(1/0)?n:_.log(n+_.sqrt(n*n+1))}),w("atanh",_.atanh||function(n){return _.log((1+n)/(1-n))/2}),w("acosh",_.acosh||function(n){return _.log(n+_.sqrt(n*n-1))}),w("properFraction",function(n){var r=x.truncate(n);return[r,-(r-n)]}),w("truncate",_.trunc||function(n){switch(x.signum(n)){case-1:return _.ceil(n);case 1:return _.floor(n)}return 0}),w("round",function(n){var r=x.properFraction(n),t=r[0],e=r[1]<0?t-1:t+1;switch(x.signum(_.abs(r[1])-.5)){case-1:return t;case 0:return t%2===0?t:e;case 1:return e}}),w("ceiling",_.ceil),w("floor",_.floor),w("gcd",function(n,r){for(var t;0!==r;)t=x.rem(n,r),n=r,r=t;return n}),w("lcm",function(n,r){return 0===n||0===r?0:_.abs(x.quot(n,x.gcd(n,r))*r)}),w("even",function(n){return n%2===0}),w("odd",function(n){return n%2!==0}),w("stream","lazy",function(n){if(a(n))return n;if(h(n))return s(function(){return n()});var r=0;return c(function(){return r<n.length?n[r++]:O})}),w("consume",function(n){if(!a(n))return n;p(n);for(var r,t=[];(r=n())!==O;)t.push(r);return t}),w("consumeString",function(n){if(!a(n))return""+n;for(var r,t="";(r=n())!==O;)t+=r;return t}),w("each",function(n,r){if(a(r))for(var t;(t=r())!==O;)n(t);else if(j(r)||m(r))for(var e=0;e<r.length;e++)n(r[e],e);else if(N(r))for(var u=L(r),i=0;i<u.length;i+=1)n(r[u[i]],u[i])}),w("cycle",function(n){if(a(n)){if(l(n))return n;var r=[],t=!1,e=0;return s(function(){var u;if(!t){if((u=n())!==O)return r.push(u),u;t=!0}return e>=r.length&&(e=0),r[e++]})}if(j(n)||m(n)){var u=0;return s(function(){return u>=n.length&&(u=0),n[u++]})}var i=L(n),o=0;return s(function(){return o>=i.length&&(o=0),n[i[o++]]})}),w("repeat",function(n){return s(function(){return n})}),w("iterate",function(n,r){return s(function(){var t=r;return r=n(r),t})}),w("lines",function(n){var r=n.split(/\n/);return 0===r[r.length-1].length&&delete r[r.length-1],r}),w("unlines",function(n){return n.join("\n")}),w("words",function(n){return n.split(/[\n\r\v\t ]/)}),w("unwords",function(n){return n.join(" ")}),w(":","cons",function(n,r){if(a(r)){var t=!1;return(l(r)?s:c)(function(){return t?r():(t=!0,n)})}var e=[n];return[].push.apply(e,r),e}),w("++","append",function(n,r){if(a(n)||a(r)){if(n=x.stream(n),l(n))return n;r=x.stream(r);var t=!1;return c(function(){if(t)return r();var e=n();return e==O?(t=!0,r()):e})}if(m(n))return n+r;var e=[];return[].push.apply(e,n),[].push.apply(e,r),e}),w("map",function(n,r){if(a(r))return(l(r)?s:c)(function(){var t=r();return t===O?O:n(t)});var t;if(j(r)||m(r)){t=[];for(var e=0;e<r.length;e++)t.push(n(r[e]));return m(r)?y(t):t}t={};for(var u=L(r),i=0;i<u.length;i++)t[u[i]]=n(r[u[i]],u[i]);return t}),w("filter",function(n,r){if(a(r))return(l(r)?s:c)(function(){for(var t;(t=r())!==O;)if(n(t))return t;return O});var t;if(j(r)||m(r)){t=[];for(var e=0;e<r.length;e++)n(r[e])&&t.push(r[e]);return m(r)?y(t):t}t={};for(var u=L(r),i=0;i<u.length;i++)n(r[u[i]])&&(t[u[i]]=r[u[i]]);return t}),w("head",function(n){if(a(n)){var r=n();return r===O?o:r}return n[0]}),w("last",function(n){if(a(n)){p(n);for(var r,t;(r=n())!==O;)t=r;return t}return n[n.length-1]}),w("tail",function(n){return a(n)?(n(),n):m(n)?n.slice(1):[].slice.call(n,1)}),w("init",function(n){if(a(n)){p(n);var r,t=n();return c(function(){if(r=n(),r===O)return O;var e=t;return t=r,e})}return m(n)?n.slice(0,n.length-1):[].slice.call(n,0,n.length-1)}),w("isEmpty","null_",function(n){if(a(n))return n()===O;if(j(n)||m(n))return 0===n.length;for(var r in n)return!1;return!0}),w("length",function(n){if(a(n)){if(l(n))return 1/0;for(var r=0;n()!==O;)r+=1;return r}return N(n)?L(n).length:n.length}),w("select",function(n,r){return x.foldl(x.at,r,n.split(/\./))}),w("!!","at","AT",function(n,r){if(a(n)){for(var t,e=0;r>e;e++)if(n()===O)return t;return t=n(),t===O?o:t}return n[r]}),w("reverse",function(n){if(a(n)){p(n),n=x.consume(n);var r=n.length-1;return c(function(){return 0>r?O:n[r--]})}var t=m(n)?"".split.call(n,""):[].slice.call(n);return t.reverse(),m(n)?t.join(""):t}),w("take",function(n,r){if(a(r)){var t=0;return c(function(){return t++<n?r():O})}return r.slice(0,n)}),w("drop",function(n,r){if(a(r)){for(var t=0;n>t;t++)r();return r}return r.slice(n)}),w("splitAt",function(n,r){return[r.slice(0,n),r.slice(n)]}),w("takeWhile",function(n,r){if(a(r)){var t=!1;return c(function(){var e=r();return t||e==O||!n(e)?(t=!0,O):e})}for(var e=0;e<r.length&&n(r[e]);)e++;return r.slice(0,e)}),w("dropWhile",function(n,r){if(a(r)){for(var t;(t=r())!==O&&n(t););return x.cons(t,r)}for(var e=0;e<r.length&&n(r[e]);)e++;return r.slice(e)}),w("span",function(n,r){for(var t=0;t<r.length&&n(r[t]);)t++;return[r.slice(0,t),r.slice(t)]}),w("break_","break",function(n,r){for(var t=0;t<r.length&&!n(r[t]);)t++;return[r.slice(0,t),r.slice(t)]}),w("elem",function(n,r){if(a(r)){for(var t;(t=r())!==O;)if(x.eq(t,n))return!0;return!1}for(var e=0;e<r.length;e++)if(x.eq(r[e],n))return!0;return!1}),w("notElem",function(n,r){if(a(r)){for(var t;(t=r())!==O;)if(x.eq(t,n))return!1;return!0}for(var e=0;e<r.length;e++)if(x.eq(r[e],n))return!1;return!0}),w("lookup",function(n,r){if(j(r))for(var t=0;t<r.length;t++)if(r[t]&&x.eq(r[t][0],n))return r[t][1];return r[n]}),w("foldl","foldl'",function(n,r,t){var e=a(t);e&&(t=x.consume(t));for(var u=0;u<t.length;u++)r=n(r,t[u]);return j(r)&&e?x.stream(r):r}),w("foldl1","foldl1'",function(n,r){var t=a(r);t&&(r=x.consume(r));for(var e=r[0],u=1;u<r.length;u++)e=n(e,r[u]);return j(e)&&t?x.stream(e):e}),w("foldr",function(n,r,t){for(var e=t.length-1;e>=0;e--)r=n(t[e],r);return r}),w("foldr1",function(n,r){for(var t=r[r.length-1],e=r.length-2;e>=0;e--)t=n(r[e],t);return t}),w("and",x.foldl(x.AND,!0)),w("or",x.foldl(x.OR,!1)),w("sum",x.foldl(x.ADD,0)),w("product",x.foldl(x.MUL,1)),w("maximum",x.foldl(x.max,-(1/0))),w("minimum",x.foldl(x.min,+(1/0))),w("any",function(n,r){for(var t=0;t<r.length;t++)if(n(r[t]))return!0;return!1}),w("all",function(n,r){for(var t=0;t<r.length;t++)if(!n(r[t]))return!1;return!0}),w("scanl",function(n,r,t){if(a(t))return x.cons(r,(l(t)?s:c)(function(){var e=t();return e===O?O:r=n(r,e)}));for(var e=[r],u=0;u<t.length;u++)r=n(r,t[u]),e.push(r);return e}),w("scanl1",function(n,r){if(a(r))return x.scanl(n,r(),r);for(var t=r[0],e=[t],u=1;u<r.length;u++)t=n(t,r[u]),e.push(t);return e}),w("scanr",function(n,r,t){for(var e=[r],u=t.length-1;u>=0;u--)r=n(t[u],r),e.unshift(r);return e}),w("scanr1",function(n,r){for(var t=r[r.length-1],e=[t],u=r.length-2;u>=0;u--)t=n(r[u],t),e.unshift(t);return e}),w("concat",function(n){if(m(n[0]))return n.join("");for(var r=[],t=L(n),e=0;e<t.length;e++)[].push.apply(r,n[t[e]]);return r}),w("concatMap",x.compose2(x.concat,x.map)),w("replicate",function(n,r){for(var t=[],e=0;n>e;e++)t.push(r);return t}),w("zipWith",function(n,r,t){if(a(r)||a(t))return r=x.stream(r),t=x.stream(t),c(function(){var e=r(),u=t();return e===O||u===O?O:n(e,u)});for(var e=_.min(r.length,t.length),u=[],i=0;e>i;i++)u[i]=n(r[i],t[i]);return u}),w("zipWith3",function(n,r,t,e){if(a(r)||a(t)||a(e))return r=x.stream(r),t=x.stream(t),e=x.stream(e),c(function(){var u=r(),i=t(),o=e();return u===O||i===O||o===O?O:n(u,i,o)});for(var u=x.minimum([r.length,t.length,e.length]),i=[],o=0;u>o;o++)i[o]=n(r[o],t[o],e[o]);return i}),w("zipWith4",function(n,r,t,e,u){if(a(r)||a(t)||a(e)||a(u))return r=x.stream(r),t=x.stream(t),e=x.stream(e),u=x.stream(u),c(function(){var i=r(),o=t(),f=e(),c=u();return i===O||o===O||f===O||c===O?O:n(i,o,f,c)});for(var i=x.minimum([r.length,t.length,e.length,u.length]),o=[],f=0;i>f;f++)o[f]=n(r[f],t[f],e[f],u[f]);return o}),w("zip",x.zipWith(x.tuple)),w("zip3",x.zipWith3(x.tuple3)),w("zip4",x.zipWith4(x.tuple4)),w("intersperse",function(n,r){if(0===r.length)return[];for(var t=[r[0]],e=1;e<r.length;e++)t.push(n),t.push(r[e]);return t}),w("intercalate",function(n,r){return x.concat(x.intersperse(n,r))}),w("transpose",function(n){if(!j(n)){for(var r={},t=L(n),e=0;e<t.length;e++)r[n[t[e]]]=t[e];return r}var u,i=0,f=[];do{u=[];for(var c=0;c<n.length;c++)n[c][i]!==o&&u.push(n[c][i]);i+=1}while(u.length>0&&f.push(u));return m(n[0])&&(f=x.map(y,f)),f}),w("heads",x.map(x.head)),w("lasts",x.map(x.lasts)),w("inits",x.map(x.inits)),w("tails",x.map(x.tails)),w("isPrefixOf",function(n,r){if(a(n)&&(n=x.consume(n)),a(r)){for(var t=0;t<n.length;t++)if(n[t]!==r())return!1;return!0}for(var e=0;e<n.length;e++)if(r[e]!==n[e])return!1;return!0}),w("isSuffixOf",function(n,r){a(n)&&(n=x.consume(n)),a(r)&&(r=x.consume(r));for(var t=0;t<n.length;t++)if(r[r.length-n.length+t]!==n[t])return!1;return!0}),w("isInfixOf",function(n,r){return b(n,r)>=0}),w("indexOf",b),w("find",function(n,r){for(var t=0;t<r.length;t++)if(n(r[t]))return r[t];return null}),w("partition",function(n,r){for(var t=[],e=[],u=0;u<r.length;u++)(n(r[u])?t:e).push(r[u]);return m(r)?x.map(y,[t,e]):[t,e]}),w("findIndex",function(n,r){for(var t=0;t<r.length;t++)if(n(r[t]))return t;return null}),w("findIndices",function(n,r){for(var t=[],e=0;e<r.length;e++)n(r[e])&&t.push(e);return t}),w("elemIndex",function(n,r){return x.findIndex(x.eq(n),r)}),w("elemIndices",function(n,r){return x.findIndices(x.eq(n),r)}),w("nub",function(n){for(var r=new A,t=[],e=0;e<n.length;e++)r.has(n[e])||(t.push(n[e]),r.add(n[e]));return t}),w("\\\\","difference",function(n,r){var t,e=new A;for(t=0;t<r.length;t++)e.add(r[t]);var u=[];for(t=0;t<n.length;t++)e.has(n[t])||u.push(n[t]);return m(n)?y(u):u}),w("union",function(n,r){var t,e=new A,u=[];for(t=0;t<n.length;t++)u.push(n[t]),e.add(n[t]);for(t=0;t<r.length;t++)e.has(r[t])||u.push(r[t]);return u}),w("intersect",function(n,r){var t,e=new A,u=[];for(t=0;t<r.length;t++)e.add(r[t]);for(t=0;t<n.length;t++)e.has(n[t])&&u.push(n[t]);return u}),w("sort",function(n){if(p(n),n.length<=1)return n;var r=m(n)?"".split.call(n,""):[].slice.call(n);return r.sort(g(r[0])?function(n,r){return n-r}:m(r[0])?function(n,r){return n.localeCompare(r)}:x.compare),m(n)?r.join(""):r}),w("deleteBy",function(n,r,t){for(var e=0;e<t.length;e++)if(n(r,t[e]))return x.append(t.slice(0,e),t.slice(e+1));return t}),w("delete_","delete",function(n,r){var t=r.indexOf(n);return t>=0?x.append(r.slice(0,t),r.slice(t+1)):r}),w("insertBy",function(n,r,t){for(var e=0;e<t.length;e++)if(n(r,t[e])<=0)return x.concat([t.slice(0,e),r,t.slice(e)]);return x.append(t,r)}),w("insert",x.insertBy(x.compare)),w("groupBy",function(n,r){if(0===r.length)return[];for(var t=[],e=[r[0]],u=r[0],i=1;i<r.length;i++)n(r[i],u)?e.push(r[i]):(t.push(e),e=[r[i]]),u=r[i];return t.push(e),m(r)?x.map(y,t):t}),w("group",x.groupBy(x.eq)),w("sortBy",function(n,r){if(a(r)&&(p(r),r=x.consume(r)),r.length<=1)return r;var t=m(r),e=t?"".split.call(r,""):[].slice.call(r);return e.sort(n),t?e.join(""):e}),w("maximumBy",function(n,r){return x.foldl1(function(r,t){return n(r,t)>0?r:t},r)}),w("minimumBy",function(n,r){return x.foldl1(function(r,t){return n(r,t)<0?r:t},r)}),w("maybe",function(n,r,t){return t===o||null===t?n:r(t)}),w("isJust",function(n){return n!==o&&null!==n}),w("isNothing",function(n){return n===o||null===n}),w("fromMaybe",function(n,r){return r===o||null===r?n:r}),w("listToMaybe",function(n){if(a(n)){var r=n();return r===O?null:r}return n[0]}),w("maybeToList",function(n){return n===o||null===n?[]:[n]}),w("catMaybes",x.filter(x.isJust)),w("mapMaybe",x.compose2(x.filter(x.isJust),x.map)),w("either",function(n,r,t){var e=t.left||t[0];if(e)return n(e);var u=t.right||t[1];return u?r(u):null}),w("Left",function(n){return{left:n}}),w("Right",function(n){return{right:n}}),w("isLeft",function(n){return n.left!==o||n[0]!==o&&null!==n[0]}),w("isRight",function(n){return(n.right!==o||n[1]!==o)&&!x.isLeft(n)}),w("fromLeft",function(n){return n.left!==o?n.left:n[0]}),w("fromRight",function(n){return n.right!==o?n.right:n[1]}),w("lefts",x.compose(x.map(x.fromLeft),x.filter(x.isLeft))),w("rights",x.compose(x.map(x.fromRight),x.filter(x.isRight))),w("partitionEithers",function(n){return[x.lefts(n),x.rights(n)]}),w("keys",L),w("clone",function(n){return"object"==typeof n?null===n?null:x.map(x.clone,n):n}),w("async",function(n){return function(){try{var r=x.last(arguments),t=n.apply(null,x.init(arguments));I(function(){r(t)})}catch(e){I(function(){r(null,e)})}}}),w("run",function(n){function r(n){return function(r){I(function(){r(null,n)})}}if(2==arguments.length)return void x.run(n)(arguments[1]);if(j(n)){var t=null,e={};x.each(function(n,r){e[r]=null===t?n:[t,n],t=r},n),n=e}var u={},i=[];x.each(function(n,r){var t=[],e=null;j(n)?(t=x.init(n),e=x.last(n)):(j(n.depends)&&(t=n.depends),e=n);var i={func:e,args:t,depends:{},enables:u[r]?u[r].enables:{}};x.each(function(n){i.depends[n]=!0,u[n]||(u[n]={enables:{}}),u[n].enables[r]=!0},t),u[r]=i},n);var o=[];if(x.each(function(r,t){x.each(function(r,e){n[e]||o.push([t,e])},r.depends)},u),!isEmpty(o))return r({message:"unmet dependencies",details:x.map(function(n){return"`"+n[0]+"` depends on `"+n[1]+"` which is not defined"},o)});if(x.each(function(n,r){x.isEmpty(n.depends)&&i.push(r)},u),x.isEmpty(i))return r({message:"no initial task",details:"There is no task without any dependencies."});var f=[];return x.each(function(n){function r(n){e.push(n),t[n]?f.push(x.map(v,e)):(t[n]=!0,x.each(r,L(u[n].enables))),delete t[e.pop()]}var t={},e=[];r(n)},i),x.isEmpty(f)?function(n){function r(r){return function(i,c){c?f[r].error=c:f[r].result=i,x.each(function(n,r){f[r].toGo-=1,0===f[r].toGo&&delete f[r]},u[r].depends),o-=1,0===o?(x.each(function(n){delete n.toGo},f),n(f)):x.each(function(n,u){delete e[u][r],isEmpty(e[u])&&t(u)},u[r].enables)}}function t(n){var t=u[n],e=r(n),i=!1,o=x.map(function(n){return f[n].error&&(i=!0),f[n].result},t.args);if(i&&h(t.func.runOnError)){var c={};x.each(function(n){var r=f[n],t={};r.error?t.error=r.error:t.result=r.result,c[n]=t},t.args),c=t.func.runOnError(c)||c,o=x.map(function(n){return c[n].result},t.args)}o.push(e),I(function(){if(i&&!t.func.runOnError)e(null,{message:"dependencies failed"});else{var n=t.func;N(n)&&(n=n.func);try{n.apply(null,o)}catch(r){e(null,r)}}})}var e={},o=x.length(u),f=x.map(function(n,r){return{toGo:x.length(n.enables)}},u);x.each(function(n,r){e[r]=x.clone(n.depends)},u),x.each(t,i)}:(f=x.map(function(n){return n=x.dropWhile(x.NEQ(x.last(n)),n),x.reverse(n)},f),r({message:"cycle detected",details:x.map(x.intercalate(" -> "),f)}))}),w("until",function(n,r,t){for(;!n(t);)t=r(t);return t}),w("pipe",function(){var n,r,t,e=null;if(j(arguments[0])?(n=arguments[0],t=arguments[1]):n=arguments,n.length>0){r=h(n[0])?n[0]():n[0];for(var u=1;u<n.length;u+=1)try{r=n[u](r)}catch(i){e=i}}if(h(t))t(e,r);else if(e)throw e;return r}),w("isNodash",d),w("install",function(r){var t=arguments[1],u=x,i="",o="";return t&&(u=n(t)),j(r)&&(m(r[0])&&(i=e.prototype.shift.call(r)),m(r[1])&&(o=r[1]),r=r[0]||{}),x.each(function(n,t){d(n)&&(r[i+t+o]=n)},u),r}),x}var r="undefined"!=typeof Set&&Set,t=Math,e=Array,u=Object,i=n();"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(i.idf(i)):window.Nodash=i}();
//# sourceMappingURL=nodash.min.js.map