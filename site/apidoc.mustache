<!DOCTYPE html>
{{! vim: set et sw=2 ts=2: }}
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nodash apidoc</title>
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
    type="text/css" />
  <link rel="stylesheet" type="text/css" href="apidoc.css">
</head>
<body>

<div class="search">
  <input type="text" id="search-field" placeholder="Search...">
</div>

<div class="sidebar">

{{#groups}}
<h6><a href="#g-{{id}}">{{name}}</a></h6>
<ul class="list-unstyled">
{{#functions}}
  <li><a href="#f-{{name}}">
    <span class="name">{{name}}</span>
    {{#aliases}}<span class="alias label label-primary">{{.}}</span>{{/aliases}}
  </a></li>
{{/functions}}
</ul>
{{/groups}}

</div>

<div class="content">

<h1>nodash {{version}} <small>api documentation</small></h1>

{{#groups}}

<h2 id="g-{{id}}">{{name}}</h1>
{{& primer}}

{{#functions}}
<h3 id="f-{{name}}">{{name}} <small>{{#aliases}}<span class="alias label label-primary">{{.}}</span>{{/aliases}}</small></h2>
<div class="section">
{{&description}}

{{#haskellDef}}
<p>Haskell Definition:</p>
<pre>
{{& haskellDef}}
</pre>
{{/haskellDef}}

{{#source}}
<p>Source:</p>
<pre>
{{& source}}
</pre>
{{/source}}
</div>

{{/functions}}

{{/groups}}

</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
$(function () {
  var $searchField = $('#search-field');
  $searchField.on('keyup', function () {
    var value = $searchField.val().toLowerCase();
    $('.sidebar li').each(function () {
      var $this = $(this);
      if (!value || $this.text().toLowerCase().indexOf(value) >= 0) {
        $this.removeClass('hidden');
      } else {
        $this.addClass('hidden');
      }
    });
    $('.sidebar ul').each(function () {
      var $this = $(this);
      console.log($this.find('li').length, $this.find('li.hidden').length);
      if ($this.find('li.hidden').length === $this.find('li').length) {
        $this.prev().addClass('hidden');
      } else {
        $this.prev().removeClass('hidden');
      }
    });
  });
});
</script>

</body>
</html>
